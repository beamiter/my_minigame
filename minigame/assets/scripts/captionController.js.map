{"version":3,"sources":["__temp/buildProcess/inlineFunctionProcess/scripts/captionController.ts"],"names":[],"mappings":";;;AAEA,iCAA4B;AAE5B,IAAM,OAAO,GAAG;IACZ,EAAE,EAAE;QACA,aAAa,EAAE,IAAI;QACnB,WAAW,EAAE,SAAS;QACtB,cAAc,EAAE,SAAS;KAC5B;IACD,EAAE,EAAE;QACA,IAAI,EAAE,EAAE;QACR,KAAK,EAAE,SAAS;KACnB;IACD,EAAE,EAAE;QACA,IAAI,EAAE,IAAI;QACV,KAAK,EAAE,SAAS;KACnB;CACJ,CAAA;AAGD;IAA+C,6CAAa;IAA5D;QAAA,qEA0EC;QAtEU,UAAI,GAAW,QAAQ,CAAA;QAGtB,iBAAW,GAAsB,KAAI,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAM,CAAC,UAAU,CAAC,CAAC;QAC7E,WAAK,GAAY,IAAI,CAAC;QACtB,WAAK,GAAY,KAAK,CAAC;QAavB,aAAO,GAAW;;;;;;;;;;;;;;;;;;;;;;oCAsBM,CAAC;;IA8BrC,CAAC;IA/DG,sBAAI,mCAAI;aAOR;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;aATD,UAAS,CAAU;YACf,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;aACrB;QACL,CAAC;;;OAAA;IA+BM,mCAAO,GAAd;QAAA,iBAQC;QAPG,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,OAAO,CAAC;QAGjC,gBAAM,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAC,KAAkB;YACzF,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAC5B,KAAI,CAAC,WAAW,CAAC,IAAI,GAAG,KAAK,CAAC;QAClC,CAAC,CAAC,CAAC;IACP,CAAC;IACM,oCAAQ,GAAf,UAAgB,EAAU;QACtB,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC;SACzC;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,OAAO;SACV;QACD,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,IAAI,EAAE,GAAG,EAAE,CAAC;QAC7C,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,GAAG,IAAI,EAAE;YAE1C,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,GAAG,CAAC,CAAC;SACzC;IACL,CAAC;IACM,qCAAS,GAAhB;IAEA,CAAC;IArED;QAHC,gBAAM,CAAC,UAAU,CAAC,QAAQ,CAAC;YACxB,IAAI,EAAE,gBAAM,CAAC,SAAS,CAAC,MAAM;SAChC,CAAC;mDAC4B;IAJb,iBAAiB;QADrC,gBAAM,CAAC,UAAU,CAAC,SAAS,CAAC,mBAAmB,CAAC;OAC5B,iBAAiB,CA0ErC;IAAD,wBAAC;CA1ED,AA0EC,CA1E8C,gBAAM,CAAC,MAAM,GA0E3D;kBA1EoB,iBAAiB","file":"captionController.js","sourcesContent":["\nimport { SetupTouchListeners } from \"!!Only Export Engine Module, Cant Use Internal Module：engine/platform/touch\";\nimport engine from \"engine\";\n\nconst myStyle = {\n    s1: {\n        applyGradient: true,\n        gradientTop: '#00ff00',\n        gradientBottom: '#ff44ff',\n    },\n    s2: {\n        size: 80,\n        color: '#bfd941',\n    },\n    s3: {\n        bold: true,\n        color: '#d887e8',\n    },\n}\n\n@engine.decorators.serialize(\"captionController\")\nexport default class CaptionController extends engine.Script {\n    @engine.decorators.property({\n        type: engine.TypeNames.String\n    })\n    public name: string = \"myname\"\n\n    // private _uiLabel: engine.UILabel = this.entity.getComponent(engine.UILabel);\n    private _uiRichText: engine.UIRichText = this.entity.getComponent(engine.UIRichText);\n    private _stop: boolean = true;\n    private _init: boolean = false;\n    // @ts-ignore\n    set stop(s: boolean) {\n        this._stop = s;\n        if (!this._stop && !this._init) {\n            this._init = true;\n        }\n    }\n    // @ts-ignore\n    get stop() {\n        return this._stop;\n    }\n\n    private _poetry: string = \"<style|applyGradient=true|gradientTop=#00ff00|gradientBottom=#ff44ff>我们的故事</style><br>\\\n    <style|value=s1>钟于<\\/style><br>\\\n    2005年 我们相遇<br>是学习的竞争者 也是朋友<br>怕打扰对方 关心总是默默的<br>会在生病请假时帮记笔记<br>\\\n    会在中考时暗暗为对方加油打气<br>会装作不经意间路过篮球场 邂逅那个熟悉的少年<br>\\\n    会从高三晨读的走廊上 看你迎着阳光扬起的笑脸<br>高考结束<br>多年的沉默<br>\\\n    一句<style|value=s3>“你好老同学”<\\/style>将其打破<br>会心一笑 六年的青葱岁月 同窗之谊，交了答卷<br>\\\n    <style|value=s2>忠于<\\/style><br>\\\n    2011年 我们走进<br>六年来 一直默默关心 不敢靠近<br>怕打扰 更怕耽误<br>\\\n    希望对方可以成为更好的自己<br>也努力为对方成为最好的自己<br>\\这是我们中学六年心照不宣的约定<br>\\\n    大学 天津&北京 是我们的选择<br>一句话是这样讲的<br><style|value=s3>我在等世上唯一契合的灵魂<br>\\\n    可我一直不明白 我要怎样感觉到<br>与我惟一契合的灵魂在哪里<br>直到我遇到了你 我们确定 就是彼此对的人<\\/style><br>\\\n    而我们 似乎从一开始就知道<br>那个契合的灵魂 就在那里<br>我们需要做的 就是等待<br>等待时光发挥魔力<br>\\\n    等待在最好的时间 彼此奔赴\\\n    <style|value=s2>忠于<\\/style><br>\\\n    转眼毕业工作 我们真正踏入社会<br>北京真大啊<br>大得我们两个小山村出来的懵懂少年<br>眼花缭乱 不知所措\\\n    压力焦虑席卷而来<br>还好有彼此<br>我们小小的爱<br>就是我们在大城市里披荆斩棘的勇气和铠甲\\\n    <style|value=s2>终于<\\/style><br>\\\n    从钟于到终于<br>\\\n    从懵懂到成熟<br>\\\n    从校服到婚纱<br>\\\n    从相恋到相守<br>\\\n    你和我终于变成了<br>\\\n    <style|value=s1>我们<\\/style><br>\";\n\n    //@ts-ignore\n    public onAwake() {\n        this._uiRichText.style = myStyle;\n        // console.log(this._uiRichText.text);\n        // console.log(this._uiRichText.style);\n        engine.loader.load('fonts/myfont.font', { cacheable: true }).promise.then((asset: engine.Font) => {\n            console.log('Loaded font.');\n            this._uiRichText.font = asset;\n        });\n    }\n    public onUpdate(dt: number) {\n        if (this._init) {\n            this._init = false;\n            this._uiRichText.fontSize = 72;\n            this._uiRichText.text += this._poetry;\n        }\n        if (this._stop) {\n            return;\n        }\n        this.entity.transform2D.positionY += dt * 40;\n        if (this.entity.transform2D.positionY > 2000) {\n            // Loop.\n            this.entity.transform2D.positionY = 0;\n        }\n    }\n    public onDestroy() {\n\n    }\n}\n"]}